---
import Layout from '../layouts/Layout.astro';
import BlogPost from "../components/BlogPost.jsx";
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Social from '../components/Social.astro';
import { getCollection, getEntry } from 'astro:content';


const allPosts = await getCollection("posts");
console.log(allPosts);
---


<Header />

<Layout title="Valentin Ciolofan | Blog">
<div>
<ul>
  {allPosts.map(post => <BlogPost url={post.slug} title={post.data.title}/>)}
</ul>
</div>
<Social />

<Footer />
</Layout>